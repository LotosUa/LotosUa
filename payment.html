<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rezerwacja masażu</title>
  <link rel="icon" type="image/png" href="./img/favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="./img/favicon/favicon.svg" />
  <link rel="shortcut icon" href="./img/favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="./img/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="./img/favicon/site.webmanifest" />
  <style>

    .form-container {
      max-width: 700px;
      margin: 60px auto;
      background: #fdf4e3;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    h2 {
      text-align: center;
      color: #5b3921;
      margin-bottom: 30px;
    }

    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }

    select,
    input[type="text"],
    input[type="tel"],
    input[type="date"],
    input[type="time"],
    textarea {
      width: 100%;
      padding: 12px;
      margin-bottom: 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
      background: #fff;
      font-size: 1em;
      font-family: Georgia, serif;
      color: #2a2a2a;
    }

    option {
      color: #2a2a2a;
    }

    textarea {
      resize: vertical;
    }

    button {
      background-color: #7d4f34;
      color: #fff;
      border: none;
      padding: 14px 40px;
      border-radius: 10px;
      font-size: 1.1em;
      cursor: pointer;
      display: block;
      margin: 0 auto;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #5c3926;
    }

    #price-display {
      text-align: center;
      font-weight: bold;
      font-size: 1.2em;
      margin-top: 20px;
      margin-bottom: 30px;
    }

    .checkbox-container {
      margin: 20px 0;
    }

    .thank-you {
      display: none;
      text-align: center;
      margin-top: 50px;
    }

    .thank-you h2 {
      color: #5b3921;
      margin-bottom: 20px;
    }

    .home-btn {
      background-color: #7d4f34;
      color: white;
      padding: 14px 40px;
      border-radius: 10px;
      font-size: 1.1em;
      text-decoration: none;
      display: inline-block;
    }

    .home-btn:hover {
      background-color: #5c3926;
    }

    @media (max-width: 600px) {
      .form-container {
        padding: 20px;
      }

      button {
        width: 100%;
      }
    }

    .datetime-row {
      display: flex;
      gap: 40px;
      /* Відстань між комірками */
      justify-content: space-between;
      margin-bottom: 25px;
      flex-wrap: wrap;
      /* дозволяє переносити на мобільних */
    }

    .datetime-group {
      flex: 1;
      min-width: 200px;
    }
  </style>
</head>

<body>

  <div class="form-container" id="booking-form">
    <h2>Umów się na wizytę</h2>
    <form id="massage-form">
      <label for="massage-category">Wybierz kategorię:</label>
      <select id="massage-category" required>
        <option value="">-- Kategoria --</option>
        <option value="relaksacyjne">Relaksacyjne</option>
        <option value="terapeutyczne">Terapeutyczne</option>
        <option value="modelujace">Modelujące</option>
        <option value="twarzy">Twarzy</option>
        <option value="kosmetyczne">Kosmetyczne</option>
        <option value="taping">Taping</option>
      </select>

      <label for="massage-type">Rodzaj masażu:</label>
      <select id="massage-type" required disabled>
        <option value="">-- Rodzaj masażu --</option>
      </select>

      <label for="duration">Wybierz czas trwania:</label>
      <select id="duration" required disabled>
        <option value="">-- Czas trwania --</option>
      </select>

      <label for="pakiet">Pakiet:</label>
      <select id="pakiet" disabled>
        <option value="">-- Wybierz pakiet --</option>
      </select>

      <div class="datetime-row">
        <div class="datetime-group">
          <label for="date">Preferowany termin:</label>
          <input type="date" id="date" required>
        </div>
        <div class="datetime-group">
          <label for="time">Preferowana godzina:</label>
          <input type="time" id="time" required>
        </div>
      </div>


      <label for="name">Imię i nazwisko:</label>
      <input type="text" id="name" required>

      <label for="phone">Telefon (do celów kontaktowych zwązanych z wizytą) :</label>
      <input type="tel" id="phone" required>

      <label for="email">Email (do celów kontaktowych zwązanych z wizytą) :</label>
      <input type="text" id="email" required>

      <label for="message">Dodatkowe informacje:</label>
      <textarea id="message" rows="4" placeholder="Preferencje, inne informacje..."></textarea>

      <div class="checkbox-container">
        <label>
          <input type="checkbox" id="gdpr" required>
          Wyrażam zgodę na przetwarzanie moich danych osobowych.
        </label>
      </div>

      <div id="price-display"></div>

      <button type="submit">Wyślij wiadomość</button>
    </form>
  </div>

  <div class="thank-you" id="thank-you-message">
    <h2>Dziękujemy za rezerwację!</h2>
    <a href="/index.html" class="home-btn">Powrót do strony głównej</a>
  </div>

  <script>
    const categorySelect = document.getElementById("massage-category");
    const typeSelect = document.getElementById("massage-type");
    const durationSelect = document.getElementById("duration");
    const pakietSelect = document.getElementById("pakiet");
    const priceDisplay = document.getElementById("price-display");

    const subOptions = {
      relaksacyjne: {
        "Masaż relaksacyjny pleców": {
          durations: ["30 min"],
          price: "90 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 5 x 30 min", price: "405 zł" }
          ]
        },
        "Masaż relaksacyjny pleców i nóg": {
          durations: ["60 min"],
          price: "180 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Masaż relaksacyjny całego ciała": {
          durations: ["90 min"],
          price: "270 zł",
          pakiety: [
            { label: "Pakiet 3 x 90 min", price: "770 zł" },
            { label: "Pakiet 5 x 90 min", price: "1215 zł" }
          ]
        },
        "Masaż głowy i karku": {
          durations: ["30 min"],
          price: "90 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
          ]
        },
        "Masaż dla kobiet w ciąży": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 30 min", price: "405 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Masaż gorącymi kamieniami": {
          durations: ["90 min"],
          price: "270 zł",
          pakiety: [
            { label: "Pakiet 3 x 90 min", price: "770 zł" },
          ]
        },
        "Masaż świecą aromatyczną": {
          durations: ["60 min"],
          price: "230 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "655 zł" },
          ]
        },
        "Masaż stemlami ziołowymi": {
          durations: ["60 min"],
          price: "230 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "655 zł" },
          ]
        },
        "Masaż masłem Shea": {
          durations: ["60 min"],
          price: "230 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "655 zł" },
          ]
        },
        "Masaż Lomi Lomi Nui": {
          durations: ["60 min"],
          price: "240 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "680 zł" },
          ]
        },

      },
      terapeutyczne: {
        "Klasyczny masaż leczniczy pleców": {
          durations: ["30 min"],
          price: "100 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "285 zł" },
            { label: "Pakiet 5 x 30 min", price: "450 zł" }
          ]
        },
        "Klasyczny masaż leczniczy pleców i nóg": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Klasyczny masaż leczniczy całego ciała": {
          durations: ["90 min"],
          price: "280 zł",
          pakiety: [
            { label: "Pakiet 3 x 90 min", price: "800 zł" },
            { label: "Pakiet 5 x 90 min", price: "1260 zł" }
          ]
        },
        "Klasyczny masaż leczniczy rąk": {
          durations: ["60 min"],
          price: "90 zł",
        },
        "Klasyczny masaż leczniczy nóg": {
          durations: ["60 min"],
          price: "90 zł",
        },
        "Klasyczny masaż leczniczy głowy, karku, szyi i barków": {
          durations: ["60 min"],
          price: "90 zł",
        },
        "Masaż Shantala dla niemowląt i małych dzieci": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "80 zł",
            "60 min": "160 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "220 zł" },
            { label: "Pakiet 3 x 60 min", price: "455 zł" },
            { label: "Pakiet 5 x 30 min", price: "360 zł" },
            { label: "Pakiet 5 x 60 min", price: "270 zł" }
          ]
        },
        "Masaż dla starszych dzieci w wieku przedszkolnym i szkolnym": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 30 min", price: "405 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Masaż rewitalizujący po porodzie": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Masaż sportowy ": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "120 zł",
            "60 min": "240 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "340 zł" },
            { label: "Pakiet 3 x 60 min", price: "680 zł" },
            { label: "Pakiet 5 x 30 min", price: "540 zł" },
            { label: "Pakiet 5 x 60 min", price: "1080 zł" }
          ]
        },
        "Masaż tensegracyjny- powięziowy ": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 30 min", price: "405 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Masaż punktowy": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "80 zł",
            "60 min": "160 zł"
          },
        },
        "Masaż limfatyczny": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "110 zł",
            "60 min": "220 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "310 zł" },
            { label: "Pakiet 3 x 60 min", price: "625 zł" },
            { label: "Pakiet 5 x 30 min", price: "495 zł" },
            { label: "Pakiet 5 x 60 min", price: "990 zł" }
          ]
        },
        "Masaż limfatyczny": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 3 x 60 min", price: "255 zł" },
          ]
        },
        "Masaż łącznotkankowy- tkanek głębokich": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "100 zł",
            "60 min": "200 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "285 zł" },
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 30 min", price: "450 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Masaż biurowy": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
        },
        "Masaż refleksologiczny dłoni, lub stóp": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "90 zł",
            "60 min": "180 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "255 zł" },
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 30 min", price: "405 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Taping terapeutyczny ": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        }
      },
      modelujace: {
        "Masaż wyszczuplający": {
          durations: ["30 min"],
          price: "120 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "340 zł" },
            { label: "Pakiet 5 x 60 min", price: "540 zł" }
          ]
        },
        "Masaż wyszczuplający + presoterapia": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Masaż bańką chińską": {
          durations: ["30 min"],
          price: "110 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "310 zł" },
            { label: "Pakiet 5 x 60 min", price: "495 zł" }
          ]
        },
        "Masaż bańką chińską + presoterapia": {
          durations: ["60 min"],
          price: "190 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "540 zł" },
            { label: "Pakiet 5 x 60 min", price: "855 zł" }
          ]
        },
        "Masaż miodowy": {
          durations: ["30 min"],
          price: "130 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "370 zł" },
            { label: "Pakiet 5 x 60 min", price: "585 zł" }
          ]
        },
        "Masaż miodowy + presoterapia": {
          durations: ["60 min"],
          price: "210 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "600 zł" },
            { label: "Pakiet 5 x 60 min", price: "945 zł" }
          ]
        },
        "Masaż izometryczny": {
          durations: ["30 min"],
          price: "110 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "310 zł" },
            { label: "Pakiet 5 x 60 min", price: "495 zł" }
          ]
        },
        "Masaż izometryczny + presoterapia": {
          durations: ["60 min"],
          price: "190 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "540 zł" },
            { label: "Pakiet 5 x 60 min", price: "855 zł" }
          ]
        },
        "Masaż bambusem": {
          durations: ["30 min"],
          price: "100 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "285 zł" },
            { label: "Pakiet 5 x 60 min", price: "450 zł" }
          ]
        },
        "Masaż bambusem + presoterapia": {
          durations: ["60 min"],
          price: "180 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "510 zł" },
            { label: "Pakiet 5 x 60 min", price: "810 zł" }
          ]
        },
        "Drenaż limfatyczny presoterapia": {
          durations: ["30 min"],
          price: "80 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "230 zł" },
            { label: "Pakiet 5 x 60 min", price: "360 zł" }
          ]
        },
        "Taping wyszczuplający ": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        }
      },
      twarzy: {
        "Masaż klasyczny twarzy": {
          durations: ["60 min"],
          price: "210 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "600 zł" },
            { label: "Pakiet 5 x 60 min", price: "945 zł" }
          ]
        },
        "Masaż z Kobido": {
          durations: ["60 min"],
          price: "230 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "655 zł" },
            { label: "Pakiet 5 x 60 min", price: "1035 zł" }
          ]
        },
        "Masaż z Kobido + Facetaping": {
          durations: ["60 min"],
          price: "260 zł"
        },
        "Masaż Tanaka-Zogan": {
          durations: ["30 min"],
          price: "100 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "285 zł" },
            { label: "Pakiet 5 x 30 min", price: "450 zł" }
          ]
        },
        "Masaż transbukalny": {
          durations: ["60 min"],
          price: "220 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "630 zł" },
            { label: "Pakiet 5 x 60 min", price: "990 zł" }
          ]
        },
        "Masaż transbukalny + Facetaping": {
          durations: ["60 min"],
          price: "250 zł"
        },
        "Masaż Gua Sha": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "950 zł" }
          ]
        },
        "Masaż refleksologiczny dłoni i stóp": {
          durations: ["30 min", "60 min"],
          prices: {
            "30 min": "95 zł",
            "60 min": "190 zł"
          },
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "270 zł" },
            { label: "Pakiet 3 x 60 min", price: "540 zł" },
            { label: "Pakiet 5 x 30 min", price: "430 zł" },
            { label: "Pakiet 5 x 60 min", price: "855 zł" }
          ]
        },
        "Taping estetyczny": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        }
      },
      kosmetyczne: {
        "Zabieg rewitalizujący z peelingiem kawitacyjnym (twarz, szyja i dekolt)": {
          durations: ["90 min"],
          price: "250 zł",
          pakiety: [
            { label: "Pakiet 3 x 90 min", price: "710 zł" },
            { label: "Pakiet 5 x 90 min", price: "1125 zł" }
          ]
        },
        "Ekskluzywny zabieg pielęgnacyjny twarzy (twarz, szyja i dekolt)": {
          durations: ["40 min"],
          price: "140 zł",
          pakiety: [
            { label: "Pakiet 3 x 40 min", price: "400 zł" },
            { label: "Pakiet 5 x 40 min", price: "630 zł" }
          ]
        },
        "Zabieg odmładzający anti-age z masażem (twarz, szyja i dekolt)": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Luksusowy zabieg odżywczy, z masażem i sonoforezą (twarz, szyja i dekolt)": {
          durations: ["90 min"],
          price: "250 zł",
          pakiety: [
            { label: "Pakiet 3 x 90 min", price: "710 zł" },
            { label: "Pakiet 5 x 90 min", price: "1125 zł" }
          ]
        },
        "Zabieg dotleniająco-nawilżający na twarz dla mężczyzn": {
          durations: ["60 min"],
          price: "200 zł",
          pakiety: [
            { label: "Pakiet 3 x 60 min", price: "570 zł" },
            { label: "Pakiet 5 x 60 min", price: "900 zł" }
          ]
        },
        "Zabieg regenerująco-liftingujący pod oczy": {
          durations: ["40 min"],
          price: "140 zł",
          pakiety: [
            { label: "Pakiet 3 x 40 min", price: "400 zł" },
            { label: "Pakiet 5 x 40 min", price: "630 zł" }
          ]
        },
        "Masaż głowy z ampułką": {
          durations: ["30 min"],
          price: "120 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "340 zł" }
          ]
        },
        "Zabieg parafinowy dłoni": {
          durations: ["40 min"],
          price: "140 zł",
          pakiety: [
            { label: "Pakiet 3 x 40 min", price: "400 zł" },
            { label: "Pakiet 5 x 40 min", price: "630 zł" }
          ]
        },
        "Stawianie baniek ogniowych": {
          durations: ["40 min"],
          price: "140 zł",
          pakiety: [
            { label: "Pakiet 3 x 40 min", price: "400 zł" },
            { label: "Pakiet 5 x 40 min", price: "630 zł" }
          ]
        },
        "Konchowanie uszu": {
          durations: ["30 min"],
          price: "110 zł",
          pakiety: [
            { label: "Pakiet 3 x 30 min", price: "310 zł" },
            { label: "Pakiet 5 x 30 min", price: "495 zł" }
          ]
        }
      },
      taping: {
        "Taping terapeutyczny": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        },
        "Taping wyszczuplający": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        },
        "Taping estetyczny": {
          durations: [" min"],
          price: "od 30 zł za aplikację"
        }

      }
    };


    const enableIfHasOptions = (select, options) => {
      select.disabled = options.length === 0;
    };

    categorySelect.addEventListener("change", function () {
      const selectedCategory = this.value;
      typeSelect.innerHTML = '<option value="">-- Rodzaj masażu --</option>';
      typeSelect.disabled = true;

      durationSelect.innerHTML = '<option value="">-- Czas trwania --</option>';
      durationSelect.disabled = true;

      pakietSelect.innerHTML = '<option value="">-- Wybierz pakiet: --</option>';
      pakietSelect.disabled = true;

      priceDisplay.textContent = "";

      if (subOptions[selectedCategory]) {
        Object.keys(subOptions[selectedCategory]).forEach(massage => {
          const opt = document.createElement("option");
          opt.value = massage;
          opt.textContent = massage;
          typeSelect.appendChild(opt);
        });
        typeSelect.disabled = false;
      }
    });

    categorySelect.addEventListener("change", function () {
      const selectedCategory = this.value;
      typeSelect.innerHTML = '<option value="">-- Rodzaj masażu --</option>';
      typeSelect.disabled = true;

      durationSelect.innerHTML = '<option value="">-- Czas trwania --</option>';
      durationSelect.disabled = true;

      pakietSelect.innerHTML = '<option value="">-- Wybierz pakiet --</option>';
      pakietSelect.disabled = true;

      priceDisplay.textContent = "";

      if (subOptions[selectedCategory]) {
        Object.keys(subOptions[selectedCategory]).forEach(massage => {
          const opt = document.createElement("option");
          opt.value = massage;
          opt.textContent = massage;
          typeSelect.appendChild(opt);
        });
        typeSelect.disabled = false;
      }
    });

    typeSelect.addEventListener("change", function () {
      const selectedCategory = categorySelect.value;
      const selectedMassage = this.value;
      const data = subOptions[selectedCategory]?.[selectedMassage];

      durationSelect.innerHTML = '<option value="">-- Czas trwania --</option>';
      pakietSelect.innerHTML = '<option value="">-- Wybierz pakiet --</option>';
      priceDisplay.textContent = "";
      durationSelect.disabled = true;
      pakietSelect.disabled = true;

      if (data?.durations) {
        data.durations.forEach(duration => {
          const opt = document.createElement("option");
          opt.value = duration;
          opt.textContent = duration;
          durationSelect.appendChild(opt);
        });
        durationSelect.disabled = false;
      }

      if (data?.pakiety) {
        data.pakiety.forEach(pakiet => {
          const opt = document.createElement("option");
          opt.value = pakiet.label;
          opt.setAttribute("data-price", pakiet.price);
          opt.textContent = `${pakiet.label} (${pakiet.price})`;
          pakietSelect.appendChild(opt);
        });
        pakietSelect.disabled = false;
      }
    });

    durationSelect.addEventListener("change", function () {
      const selectedCategory = categorySelect.value;
      const selectedMassage = typeSelect.value;
      const selectedDuration = this.value;
      const data = subOptions[selectedCategory]?.[selectedMassage];

      if (data) {
        priceDisplay.textContent = `Cena: ${data.price}`;
      }
    });

    pakietSelect.addEventListener("change", function () {
      const selected = this.selectedOptions[0];
      const customPrice = selected?.getAttribute("data-price");
      if (customPrice) {
        priceDisplay.textContent = `Cena: ${customPrice}`;
      }
    });

    // ✅ Обробка надсилання форми через JS
    document.getElementById("massage-form").addEventListener("submit", function (e) {
      e.preventDefault();

      const formData = new FormData();
      formData.append("Kategoria", categorySelect.value);
      formData.append("Rodzaj masażu", typeSelect.value);
      formData.append("Długość", durationSelect.value);
      formData.append("Pakiet", pakietSelect.value);
      formData.append("Data", document.getElementById("date").value);
      formData.append("Godzina", document.getElementById("time").value);
      formData.append("Imię i nazwisko", document.getElementById("name").value);
      formData.append("Telefon", document.getElementById("phone").value);
      formData.append("Wiadomość", document.getElementById("message").value);
      formData.append("Cena", priceDisplay.textContent);

      fetch("https://formspree.io/f/xpwooojq", {
        method: "POST",
        body: formData,
        headers: {
          Accept: "application/json"
        }
      })
        .then(response => {
          if (response.ok) {
            document.getElementById("booking-form").style.display = "none";
            document.getElementById("thank-you-message").style.display = "block";
          } else {
            alert("Wystąpił błąd. Spróbuj ponownie.");
          }
        })
        .catch(error => {
          alert("Błąd połączenia.");
        });
    });
  </script>
</body>

</html>